Optimized with GUI and wave gen
